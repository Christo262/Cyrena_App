@typeparam T

@inherits ComponentBase

@code {
    [Parameter]
    public IEnumerable<T> Items { get; set; } = Enumerable.Empty<T>();

    [Parameter]
    public RenderFragment<T> RowTemplate { get; set; }

    [Parameter]
    public string FilterText { get; set; } = string.Empty;

    [Parameter]
    public Func<T, string> SortKeySelector { get; set; }

    private IEnumerable<T> FilteredItems => string.IsNullOrWhiteSpace(FilterText)
        ? Items
        : Items.Where(item => item.ToString()!.Contains(FilterText, StringComparison.OrdinalIgnoreCase));

    private IEnumerable<T> SortedItems => SortKeySelector == null
        ? FilteredItems
        : FilteredItems.OrderBy(SortKeySelector);
}

<table class="table">
    @if (Items != null && RowTemplate != null)
    {
        foreach (var item in SortedItems)
        {
            <tr>
                @RowTemplate(item)
            </tr>
        }
    }
</table>
<link href="/css/table.css" rel="stylesheet" />
